!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d=function(b){var c={_:{},$:b||a("./renderers/DOM.js"),components:{}};return a("./core/Tembo.core.can.js")(c),a("./interface/tembo.createClass.js")(c),c},e=d();e.TemboConstructor=d,b.exports=e,b.parent||"object"!=typeof window||(window.Tembo=e)},{"./core/Tembo.core.can.js":5,"./interface/tembo.createClass.js":6,"./renderers/DOM.js":10}],2:[function(a,b,c){var d=["componentWillMount","componentDidMount","componentWillUpdate","componentDidUpdate","componentWillUnmount","componentDidUnmount","render"],e;b.exports=e=function(a){if(!a)throw new Error("renderNode required");this.renderNode=a,this.props={},this.state=this.getInitialState?this.getInitialState():{},this._newState={},this._stateChanged=!1},e.extend=function(a,b){var c=function(a){return this instanceof c?(e.call(this,a),void(this.updater=b)):new c(a)};c.prototype=Object.create(e.prototype),c.prototype.constructor=c;for(var f in a){var g=a[f];d.indexOf(f)>-1?c.prototype["__"+f+"__"]=g:c.prototype[f]=g}return a.displayName&&(c.displayName=a.displayName),c.isTemboComponent=!0,c},e.prototype.attachProps=function(a,b){var c=!1,d=this.props,e={};if("object"==typeof a)for(var f in a)e[f]=a[f];b instanceof Array||(b=[b]),e.children=b,this.props=e,d?Tembo.call("componentDidUpdate",this,d):Tembo.call("componentDidMount",this)},e.prototype.isTemboComponent=e.isTemboComponent=!0,e.prototype.render=function(){this._isUpdating&&(this._isUpdating=!1,this.state=this._newState,this._newState={});var a=this.__render__();return a.component=this,a},e.prototype.componentWillUnmount=function(){return this.__componentWillUnmount__?this.__componentWillUnmount__():void 0},e.prototype.isTemboComponent=!0,e.prototype.setState=function(a){var b=this._newState,c=this.state;Object.keys(a).forEach(function(d){b[d]=a[d],b[d]===c[d]&&delete b[d]});var d=Object.keys(b).length;d?this.updater.add(this):this.updater.remove(this)}},{}],3:[function(a,b,c){b.exports=function d(a,b,c){this.type=a,this.props={},b&&(this.props=b),this.children=c}},{}],4:[function(a,b,c){var d;b.exports=d=function(){};var e=d.prototype;e.add=function(a){a.destroyed||a._isUpdating||(a._isUpdating=!0,a.renderNode.setPatch(a.render()))},e.remove=function(a){a.destroyed||a._isUpdating&&(a._isUpdating=!1)}},{}],5:[function(a,b,c){b.exports=function(a){"use strict";a._.can=function(b,c){a[b]||(a[b]=c)}}},{}],6:[function(a,b,c){var d=a("../core/Component"),e=a("../core/Patch"),f=a("../core/SyncUpdate"),g=a("../render/NativeRoot");b.exports=function(a){"use strict";var b=new f;a._.can("createClass",function(a){return d.extend(a,b)}),a._.can("createElement",function(a,b,c){if(b||(b={}),arguments.length>3){c=[];var d=2;while(d<arguments.length)c.push(arguments[d]),d++}return new e(a,b,c)}),a._.can("render",function(b,c){var d=g.makeTree(a.$,c,b);return a.$.render(b,c)})}},{"../core/Component":2,"../core/Patch":3,"../core/SyncUpdate":4,"../render/NativeRoot":7}],7:[function(a,b,c){var d=a("./util"),e=a("./ShadowNode"),f;b.exports=f=function(a,b){if(this.renderer=b.renderer,this.parent=b.parent,this.children=[],this.renderer)this.elem=a;else if(d.isNative(a))this.setPatch(a);else{if(!this.parent)throw new Error("what hapenned");this.shadowHead=new e(a,{"native":this})}},f.makeTree=function(a,b,c){var d=new f(b,{renderer:a}),e=new f(c,{parent:d});return d};var g=f.prototype;g.setPatch=function(a){var b=this.oldPatch;return this.oldPatch=a,b||a?d.differentTypes(b,a)?(this.differentTypeSet(b,a),this.setProps(a)):d.differentPatch(b,a)?this.setProps(a):void 0:void 0},g.setProps=function(a){var b=this.Render,c=this.elem;if("string"==typeof a)return b.setText(c,a);var e=d.clone(a.props),g=a.children;delete e.children,Object.keys(e).forEach(function(a){b.setProp(c,a,e[a])});for(var h=this.children,i=h.length,j=g.length,k=Math.min(i,j),l=Math.max(i,j),m=0;l>m;m++)k>m?h[m].setPatch(g[m]):j>i?h.push(new f(g[m],{parent:this})):h.pop().remove();return c},g.remove=function(){this.shadowHead&&this.shadowHead.remove(),this.Render.removeChild(this.parent.elem,this.elem)},g.renderPatch=function(a){var b;if(!a)return null;if("string"==typeof a)return this.Render.createText(elem);if("object"!=typeof a)throw new Error("Cannot make patch of "+a);if(!a.type.isTemboComponent)return this.Render.createElement(a.type);throw new Error("NativeRoot expects only native patches")},g.differentTypeSet=function(a,b){if(this.parent){var c=this.parent.elem,d=this.elem,e=this.renderPatch(b);if(this.elem=e,d||e){if(d)return e?this.Render.replaceChild(c,d,e):this.Render.removeChild(c,d);var f=this.index;return-1===f?this.Render.appendChild(c,e):void this.Render.insertChild(c,e,f)}}},Object.defineProperty(g,"Render",{get:function(){return this.parent?this.parent.Render:this.renderer}}),Object.defineProperty(g,"index",{get:function(){for(var a=this.parent.children,b=0,c=0,d=a.length;d>c;c++){if(a[c]=this)break;a[c].nativeFigure&&b++}return b===d?-1:b}})},{"./ShadowNode":8,"./util":9}],8:[function(a,b,c){var d=a("./util"),e;b.exports=e=function(a,b){this.shadow=b.shadow,this["native"]=b["native"],this.elem=new a.type(this),this.setPatch(a)};var f=e.prototype;Object.defineProperty(f,"parent",{get:function(){return this["native"].parent}}),f.setPatch=function(a){var b=this.elem.props;this.elem.props=a.props,this.elem.props.children=a.children,this.render()},f.remove=function(){return this.elem.remove(),this.destroyed=!0,this.figure?this.figure.remove():void 0},f.render=function(){var a=this.elem.render(),b=this.lastPatch;return this.lastPatch=a,b||a?d.isNative(a)?(this.figure&&(this.figure.remove(),this.figure=void 0),this["native"].shadowTail=this,this["native"].setPatch(a)):d.differentTypes(b,a)?(this.figure&&this.figure.remove(),this.figure=new e(a,{shadow:this,"native":this["native"]})):void(d.differentPatch(b,a)&&this.figure.setPatch(a)):void 0}},{"./util":9}],9:[function(a,b,c){b.exports.isNative=function e(a){var b=a.type;return b?"string"==typeof b?!0:!b.isTemboComponent:!0},b.exports.differentTypes=function f(a,b){if(!a&&b||!b&&a)return!0;if(typeof a!=typeof b)return!0;switch(typeof a){case"string":return!1;case"object":return a.type!==b.type}},b.exports.differentPatch=function g(a,b){return"string"==typeof a?a!==b:d(a.props,b.props)?a.children||b.children?a.children&&b.children?a.children.length!==b.children.length?!0:a.children.some(function(c,d){var e=b[d];return c||e?differentTypes(a,b)?!0:g(c,e):!1}):!0:!1:!0},b.exports.clone=function(a){return Object.keys(a).reduce(function(b,c){return b[c]=a[c],b},{})};function d(a,b){var c=typeof a;if(c!==typeof b)return!1;if("object"!==c)return a===b;var e=Object.keys(a),f=Object.keys(b);return e.length!==f.length?!1:!e.some(function(c){return c in b?!d(a[c],b[c]):!0})}},{}],10:[function(a,b,c){var d=document;b.exports.setDOM=function(a){d=a},"object"==typeof document&&b.exports.setDOM(document),b.exports.render=function(a,b){return a.instance},b.exports.getId=function(a){return a.getAttribute("data-tamboId")},b.exports.setId=function(a,b){return a.setAttribute("data-tamboId",b)},b.exports.setProp=function(a,b,c){0===b.indexOf("on")?(b=b.replace("on","").toLowerCase(),a.addEventListener(b,c,!1)):"children"!==b&&a.setAttribute(b,c)},b.exports.appendChild=function(a,b){return a.appendChild(b)},b.exports.insertChild=function(a,b,c){return a.appendChild(b,a.childNodes[c])},b.exports.removeChild=function(a,b){return a.removeChild(b)},b.exports.replaceChild=function(a,b,c){return a.replaceChild(c,b)},b.exports.isElement=function(a){return 1===a.nodeType},b.exports.isText=function(a){return 3===a.nodeType},b.exports.createElement=function(a){return d.createElement(a)},b.exports.createText=function(a){return d.createTextNode(a)}},{}]},{},[1]);
//# sourceMappingURL=tembo.min.map